   Creating an optimized production build ...
Failed to compile.

./src/app/auth/actions.ts
Error:   x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/auth/actions.ts:23:1]
 20 |         password,
 21 |     })
 22 | 
 23 | <<<<<<< HEAD
    : ^^^^^^^
 24 |     // console.log('Login attempt:', email, error) // Debugging
 25 | 
 26 | =======
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/auth/actions.ts:26:1]
 23 | <<<<<<< HEAD
 24 |     // console.log('Login attempt:', email, error) // Debugging
 25 | 
 26 | =======
    : ^^^^^^^
 27 | >>>>>>> ae6cab7 (init)
 28 |     if (error) {
 29 |         return { error: error.message }
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/auth/actions.ts:27:1]
 24 |     // console.log('Login attempt:', email, error) // Debugging
 25 | 
 26 | =======
 27 | >>>>>>> ae6cab7 (init)
    : ^^^^^^^
 28 |     if (error) {
 29 |         return { error: error.message }
 30 |     }
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/auth/actions.ts:55:1]
 52 |         return { error: error.message }
 53 |     }
 54 | 
 55 | <<<<<<< HEAD
    : ^^^^^^^
 56 |     // Session is not established immediately if email confirmation is enabled, 
 57 |     // but if it's disabled or auto-confirm, it might be.
 58 |     // For this rewrite, we assume auto-confirm or we handle the check.
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/auth/actions.ts:60:1]
 57 |     // but if it's disabled or auto-confirm, it might be.
 58 |     // For this rewrite, we assume auto-confirm or we handle the check.
 59 | 
 60 | =======
    : ^^^^^^^
 61 | >>>>>>> ae6cab7 (init)
 62 |     revalidatePath('/', 'layout')
 63 |     redirect('/onboarding')
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/auth/actions.ts:61:1]
 58 |     // For this rewrite, we assume auto-confirm or we handle the check.
 59 | 
 60 | =======
 61 | >>>>>>> ae6cab7 (init)
    : ^^^^^^^
 62 |     revalidatePath('/', 'layout')
 63 |     redirect('/onboarding')
 64 | }
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/auth/actions.ts
./src/app/login/page.tsx

./src/app/onboarding/avatar/page.tsx
Error:   x Merge conflict marker encountered.
   ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:5:1]
 2 | 
 3 | import { useState } from 'react'
 4 | import KawaiiGenerator, { GeneratedAvatarPayload } from '@/components/KawaiiGenerator'
 5 | <<<<<<< HEAD
   : ^^^^^^^
 6 | import { saveAvatar, skipAvatar } from '../actions' // Import from parent directory actions
 7 | import { createClient } from '@/utils/supabase/client'
 8 | import { Button } from '@/components/ui/button'
   `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:11:1]
  8 | import { Button } from '@/components/ui/button'
  9 | import { motion } from 'framer-motion'
 10 | import { ArrowRight } from 'lucide-react'
 11 | =======
    : ^^^^^^^
 12 | import { saveAvatar, skipAvatar } from '../actions'
 13 | import { createClient } from '@/utils/supabase/client'
 14 | import { Button } from '@/components/ui/button'
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:16:1]
 13 | import { createClient } from '@/utils/supabase/client'
 14 | import { Button } from '@/components/ui/button'
 15 | import { motion } from 'framer-motion'
 16 | >>>>>>> ae6cab7 (init)
    : ^^^^^^^
 17 | 
 18 | export default function OnboardingAvatarPage() {
 19 |     const [isSaving, setIsSaving] = useState(false)
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:24:1]
 21 |     const handleSave = async (data: { avatar: GeneratedAvatarPayload['avatarConfig']; imageUrl: string }) => {
 22 |         setIsSaving(true)
 23 |         try {
 24 | <<<<<<< HEAD
    : ^^^^^^^
 25 |             // 1. Convert Data URL to Blob
 26 |             const res = await fetch(data.imageUrl)
 27 |             const blob = await res.blob()
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:30:1]
 27 |             const blob = await res.blob()
 28 | 
 29 |             // 2. Upload to Supabase Storage
 30 | =======
    : ^^^^^^^
 31 |             const res = await fetch(data.imageUrl)
 32 |             const blob = await res.blob()
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:34:1]
 31 |             const res = await fetch(data.imageUrl)
 32 |             const blob = await res.blob()
 33 | 
 34 | >>>>>>> ae6cab7 (init)
    : ^^^^^^^
 35 |             const supabase = createClient()
 36 |             const filename = `${Date.now()}-avatar.png`
 37 |             const { data: uploadData, error: uploadError } = await supabase
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:45:1]
 42 |                     upsert: true
 43 |                 })
 44 | 
 45 | <<<<<<< HEAD
    : ^^^^^^^
 46 |             let finalUrl = data.imageUrl // Fallback to base64 if upload fails? No, too big.
 47 | 
 48 |             if (uploadError) {
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:53:1]
 50 |                 // If upload fails, maybe we just try to save the base64 if it's small enough, or show error
 51 |                 // For this demo, let's proceed with base64 if upload fails, assuming server action handles it or we accept it might fail
 52 |                 // Actually, let's just log it and try to save the public URL if possible
 53 | =======
    : ^^^^^^^
 54 |             let finalUrl = data.imageUrl
 55 | 
 56 |             if (uploadError) {
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:58:1]
 55 | 
 56 |             if (uploadError) {
 57 |                 console.error('Upload error:', uploadError)
 58 | >>>>>>> ae6cab7 (init)
    : ^^^^^^^
 59 |             } else if (uploadData) {
 60 |                 const { data: { publicUrl } } = supabase.storage.from('avatars').getPublicUrl(uploadData.path)
 61 |                 finalUrl = publicUrl
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:64:1]
 61 |                 finalUrl = publicUrl
 62 |             }
 63 | 
 64 | <<<<<<< HEAD
    : ^^^^^^^
 65 |             // 3. Save URL to Profile via Server Action
 66 | =======
 67 | >>>>>>> ae6cab7 (init)
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:66:1]
 63 | 
 64 | <<<<<<< HEAD
 65 |             // 3. Save URL to Profile via Server Action
 66 | =======
    : ^^^^^^^
 67 | >>>>>>> ae6cab7 (init)
 68 |             await saveAvatar(finalUrl, data.avatar.prompt)
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:67:1]
 64 | <<<<<<< HEAD
 65 |             // 3. Save URL to Profile via Server Action
 66 | =======
 67 | >>>>>>> ae6cab7 (init)
    : ^^^^^^^
 68 |             await saveAvatar(finalUrl, data.avatar.prompt)
 69 | 
 70 |         } catch (error) {
    `----
  x Expected a semicolon
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:70:1]
 67 | >>>>>>> ae6cab7 (init)
 68 |             await saveAvatar(finalUrl, data.avatar.prompt)
 69 | 
 70 |         } catch (error) {
    :           ^^^^^
 71 |             console.error('Save error:', error)
 72 |             setIsSaving(false)
 73 |         }
    `----
  x Expected a semicolon
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:76:1]
 73 |         }
 74 |     }
 75 | 
 76 |     return (
    :     ^
 77 |         <div className="min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-[#faf9f6] dark:bg-[#1a1614] py-10">
 78 | <<<<<<< HEAD
 79 |             {/* Background Elements */}
    `----
  x Expression expected
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:78:1]
 75 | 
 76 |     return (
 77 |         <div className="min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-[#faf9f6] dark:bg-[#1a1614] py-10">
 78 | <<<<<<< HEAD
    :  ^^
 79 |             {/* Background Elements */}
 80 | =======
 81 | >>>>>>> ae6cab7 (init)
    `----
  x Expression expected
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:78:1]
 75 | 
 76 |     return (
 77 |         <div className="min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-[#faf9f6] dark:bg-[#1a1614] py-10">
 78 | <<<<<<< HEAD
    :    ^^
 79 |             {/* Background Elements */}
 80 | =======
 81 | >>>>>>> ae6cab7 (init)
    `----
  x Expression expected
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:78:1]
 75 | 
 76 |     return (
 77 |         <div className="min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-[#faf9f6] dark:bg-[#1a1614] py-10">
 78 | <<<<<<< HEAD
    :      ^^
 79 |             {/* Background Elements */}
 80 | =======
 81 | >>>>>>> ae6cab7 (init)
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:80:1]
 77 |         <div className="min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden bg-[#faf9f6] dark:bg-[#1a1614] py-10">
 78 | <<<<<<< HEAD
 79 |             {/* Background Elements */}
 80 | =======
    : ^^^^^^^
 81 | >>>>>>> ae6cab7 (init)
 82 |             <div className="absolute inset-0 z-0 pointer-events-none">
 83 |                 <div className="absolute top-[20%] right-[20%] w-[500px] h-[500px] rounded-full bg-pink-400/10 blur-[120px]" />
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:81:1]
 78 | <<<<<<< HEAD
 79 |             {/* Background Elements */}
 80 | =======
 81 | >>>>>>> ae6cab7 (init)
    : ^^^^^^^
 82 |             <div className="absolute inset-0 z-0 pointer-events-none">
 83 |                 <div className="absolute top-[20%] right-[20%] w-[500px] h-[500px] rounded-full bg-pink-400/10 blur-[120px]" />
 84 |                 <div className="absolute bottom-[10%] left-[10%] w-[400px] h-[400px] rounded-full bg-purple-400/10 blur-[100px]" />
    `----
  x Unexpected token `{`. Expected identifier, string literal, numeric literal or [ for the computed key
    ,-[/var/www/oneness/src/app/onboarding/avatar/page.tsx:88:1]
 85 |             </div>
 86 | 
 87 |             <motion.div
 88 |                 initial={{ opacity: 0, y: 20 }}
    :                          ^
 89 |                 animate={{ opacity: 1, y: 0 }}
 90 |                 transition={{ duration: 0.5 }}
 91 |                 className="relative z-10 w-full max-w-4xl px-4"
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/onboarding/avatar/page.tsx

./src/app/onboarding/page.tsx
Error:   x Merge conflict marker encountered.
   ,-[/var/www/oneness/src/app/onboarding/page.tsx:5:1]
 2 | 
 3 | import { useState } from 'react'
 4 | import { useRouter } from 'next/navigation'
 5 | <<<<<<< HEAD
   : ^^^^^^^
 6 | import { updateProfile } from './actions' // We'll import the server action
 7 | =======
 8 | import { updateProfile } from './actions'
   `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/page.tsx:7:1]
  4 | import { useRouter } from 'next/navigation'
  5 | <<<<<<< HEAD
  6 | import { updateProfile } from './actions' // We'll import the server action
  7 | =======
    : ^^^^^^^
  8 | import { updateProfile } from './actions'
  9 | >>>>>>> ae6cab7 (init)
 10 | import { Button } from '@/components/ui/button'
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/page.tsx:9:1]
  6 | import { updateProfile } from './actions' // We'll import the server action
  7 | =======
  8 | import { updateProfile } from './actions'
  9 | >>>>>>> ae6cab7 (init)
    : ^^^^^^^
 10 | import { Button } from '@/components/ui/button'
 11 | import { Input } from '@/components/ui/input'
 12 | import { Label } from '@/components/ui/label'
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/page.tsx:28:1]
 25 |         // Call server action
 26 |         const result = await updateProfile(formData)
 27 | 
 28 | <<<<<<< HEAD
    : ^^^^^^^
 29 |         // updateProfile redirects on success, so if we get here with result, it's an error or we need to handle it
 30 | =======
 31 | >>>>>>> ae6cab7 (init)
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/page.tsx:30:1]
 27 | 
 28 | <<<<<<< HEAD
 29 |         // updateProfile redirects on success, so if we get here with result, it's an error or we need to handle it
 30 | =======
    : ^^^^^^^
 31 | >>>>>>> ae6cab7 (init)
 32 |         if (result?.error) {
 33 |             setError(result.error)
    `----
  x Merge conflict marker encountered.
    ,-[/var/www/oneness/src/app/onboarding/page.tsx:31:1]
 28 | <<<<<<< HEAD
 29 |         // updateProfile redirects on success, so if we get here with result, it's an error or we need to handle it
 30 | =======
 31 | >>>>>>> ae6cab7 (init)
    : ^^^^^^^
 32 |         if (result?.error) {
 33 |             setError(result.error)
 34 |             setIsLoading(false)
    `----
  x Expression expected
    ,-[/var/www/oneness/src/app/onboarding/page.tsx:40:1]
 37 | 
 38 |     return (
 39 |         <div className="min-h-screen w-full flex items-center justify-center relative overflow-hidden bg-[#faf9f6] dark:bg-[#1a1614]">
 40 | <<<<<<< HEAD
    :  ^^
 41 |             {/* Background Elements */}
 42 | =======
 43 | >>>>>>> ae6cab7 (init)
    `----
  x Expression expected
    ,-[/var/www/oneness/src/app/onboarding/page.tsx:40:1]
 37 | 
 38 |     return (
 39 |         <div className="min-h-screen w-full flex items-center justify-center relative overflow-hidden bg-[#faf9f6] dark:bg-[#1a1614]">
 40 | <<<<<<< HEAD
    :    ^^
 41 |             {/* Background Elements */}
 42 | =======
 43 | >>>>>>> ae6cab7 (init)
    `----
  x Expression expected
    ,-[/var/www/oneness/src/app/onboarding/page.tsx:40:1]
 37 | 
 38 |     return (
 39 |         <div className="min-h-screen w-full flex items-center justify-center relative overflow-hidden bg-[#faf9f6] dark:bg-[#1a1614]">
 40 | <<<<<<< HEAD
    :      ^^
 41 |             {/* Background Elements */}
 42 | =======
 43 | >>>>>>> ae6cab7 (init)
    `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/onboarding/page.tsx


> Build failed because of webpack errors
tokyojon@ubuntu:/var/www/oneness$ 
